# #!/bin/sh
# echo "ğŸ” Ejecutando verificaciones de seguridad pre-commit..."
# echo ""

# # Ejecutar lint-staged (ESLint)
# echo "ğŸ“ ESLint - AnÃ¡lisis de cÃ³digo..."
# npx lint-staged || true

# # Crear directorio de reportes si no existe
# mkdir -p reports

# # Generar reporte de ESLint
# echo ""
# echo "ğŸ“Š Generando reporte de ESLint..."
# npm run lint:report || true

# # Ejecutar OWASP audit (sin bloquear el commit)
# echo ""
# echo "ğŸ›¡ï¸  OWASP - AnÃ¡lisis de vulnerabilidades..."
# npm audit --audit-level=moderate || AUDIT_FAILED=true

# # Generar reporte de npm audit
# echo ""
# echo "ğŸ“Š Generando reporte de OWASP..."
# npm run audit:report

# # Mostrar ubicaciÃ³n de reportes
# echo ""
# echo "âœ… Reportes generados en:"
# echo "   ğŸ“„ reports/eslint-report.json"
# echo "   ğŸ“„ reports/eslint-report.html"
# echo "   ğŸ“„ reports/npm-audit.json"
# echo "   ğŸ“„ reports/npm-audit.html"
# echo ""

# # Si audit falla, advertir pero no bloquear
# if [ "$AUDIT_FAILED" = "true" ]; then
#   echo "âš ï¸  ADVERTENCIA: Se encontraron vulnerabilidades de seguridad."
#   echo "   Revisa el reporte en: reports/npm-audit.json"
#   echo "   Ejecuta 'npm audit fix' para corregir automÃ¡ticamente."
#   echo ""
#   echo "â© El commit continuarÃ¡, pero debes revisar las vulnerabilidades."
#   echo ""
# fi

# exit 0
